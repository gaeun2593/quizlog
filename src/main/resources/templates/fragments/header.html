
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>

<header th:fragment="headerFragment">
  <div class="header-left">
    <svg xmlns="http://www.w3.org/2000/svg" class="bi bi-list" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
    </svg>
    <div class="logo">
      <!-- 로그인한 경우 -->
      <div sec:authorize="isAuthenticated()">
        <a th:href="@{/main}">
          <img th:src="@{/images/logo.png}" alt="logo">
        </a>
      </div>

      <!-- 로그인하지 않은 경우 -->
      <div sec:authorize="isAnonymous()">
        <a th:href="@{/}">
          <img th:src="@{/images/logo.png}" alt="logo">
        </a>
      </div>
    </div>  </div>
  <div class="header-center">
    <form method="get" th:action="@{/main/search}">
      <button type="submit" class="search-icon">
        <img th:src="@{/images/search.svg}" alt="search-icon">
      </button>
      <input type="text" name="search" placeholder="문제검색">
    </form>
  </div>

  <div class="header-right">
    <a th:href="@{/main/create-chap}"><img th:src="@{/images/plus-circle.png}" alt="plus-circle" class="plus-circle"></a>
    <div sec:authorize="isAuthenticated()">
      <form th:action="@{/auth/logout}" method="post">
        <button class="btn-primary" type="submit">로그아웃</button>
      </form>
    </div>

    <!-- 로그인하지 않은 경우 -->
    <div sec:authorize="isAnonymous()">
      <a class="btn-primary" th:href="@{/auth/login}">로그인</a>
    </div>
  </div>
</header>
</body>
</html>