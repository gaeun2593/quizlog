<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>
<header th:fragment="headerFragment" class="header">
  <div class="logo-menu">
    <div class="menu-icon">
      <img th:src="@{/images/menu-icon.svg}" alt="menu-icon">
    </div>
    <div class="logo">
      <!-- 로그인한 경우 -->
      <div sec:authorize="isAuthenticated()">
        <a th:href="@{/main}">
          <img th:src="@{/images/logo.png}" alt="logo">
        </a>
      </div>

      <!-- 로그인하지 않은 경우 -->
      <div sec:authorize="isAnonymous()">
        <a th:href="@{/}">
          <img th:src="@{/images/logo.png}" alt="logo">
        </a>
      </div>
    </div>  </div>
  <div class="search">
    <form method="get" th:action="@{/main/search}">
      <button type="submit" class="search-icon"><img th:src="@{/images/search.svg}" alt="search-icon"></button>
      <input type="text" name="search" placeholder="문제검색">
    </form>
  </div>
  <div class="contentright">
    <a th:href="@{/main/create-chap}"><img th:src="@{/images/plus-circle.png}" alt="plus-circle" class="plus-circle"></a>
    <!-- 로그인한 경우 -->
    <div sec:authorize="isAuthenticated()">
      <form th:action="@{/auth/logout}" method="post">
        <button type="submit">로그아웃</button>
      </form>
    </div>

    <!-- 로그인하지 않은 경우 -->
    <div sec:authorize="isAnonymous()">
      <a th:href="@{/auth/login}">로그인</a>
    </div>
  </div>
</header>
</body>
</html>

